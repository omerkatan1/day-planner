<!DOCTYPE html>
<html>

<head>
    <title>Day Planner</title>

    <!-- Bootstrap Link -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- linking css -->
    <link rel="stylesheet" href="Assets/style.css">

    <!-- linking jquery -->
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>

    <!-- linking moments -->
    <script src="https://momentjs.com/downloads/moment.js"></script>

    <!-- family flower google font -->
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower&display=swap" rel="stylesheet">

    <!-- Roboto google font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">

</head>

<body>

    <!-- header for the webpage -->
    <header class="container-fluid">
        <div class="row">
            <div id="textHead" class="col-12">
                <h1 id="headerText">Work Day Scheduler</h1>
                <h4 id="headerSubtext">A simple app to plan your day.</h4>
            </div>
        </div>
    </header>


    <!-- where page content will go -->
    <div id="holder" class="container">

        <div id="dateTimeDiv" class="row">
            <div class="col">
                <div id="dateTimeBox">
                    <h5 id="dateHolder"></h5>
                    <h5 id="timeHolder"></h5>
                </div>
            </div>
        </div>



    </div>



    <!-- javascript stuff -->
    <script>
        $(document).ready(function () {

            $("#headerSubtext").css("opacity", "0");
            $("#headerText").css("opacity", "0");
            $("#headerText").animate({
                opacity: 1
            }, 800);
            $("#headerSubtext").delay(500).animate({
                opacity: 1
            }, 800);

        });

        function setTime() {
            var getDate = moment().format('MMMM Do YYYY, h:mm:ss a');
            var newDate = getDate.substring(0, getDate.indexOf(','));
            var newTime = getDate.substring(newDate.length + 2, getDate.length);

            $("#dateHolder").empty();
            $("#timeHolder").empty();
            $("#dateHolder").append(newDate);
            $("#timeHolder").append(newTime);
        }

        setTime();
        setInterval(function () {
            setTime();
        }, 1000)

























        var dataTime = ["9am", "10am", "11am", "12am", "1pm", "2pm", "3pm", "4pm", "5pm"];



        function store(newBtn, newTextarea) {
            (newBtn).click(function () {

                console.log($(this).attr("data-name"))
                localStorage.setItem($(this).attr("data-name"), $(newTextarea).val());

                var getData = $(this).attr("data-name");
                var setData = $(newTextarea).val();

                console.log(localStorage.getItem(getData));

                newTextarea.val(localStorage.getItem($(this).attr("data-name")));
            });
        }



        for (var i = 0; i < dataTime.length; i++) {


            // create row
            var newRow = $("<div>");
            newRow.addClass("row");

            // time label div
            var newRowTimelabel = $("<div>");
            newRowTimelabel.addClass("col-2");

            // textarea div
            var newRowTextarea = $("<div>");
            newRowTextarea.addClass("col-8");

            // savebutton div
            var newRowSavebtn = $("<div>");
            newRowSavebtn.addClass("col-2");




            // all textarea stuff
            var newTextarea = $("<textarea>");
            newTextarea.val(localStorage.getItem($(this).attr("data-name")));
            newRowTextarea.append(newTextarea);


            // all save button stuff
            var newBtn = $("<button>");
            newBtn.addClass("selectSave");
            newBtn.attr("data-name", dataTime[i]);
            newBtn.text(dataTime[i]);
            newRowSavebtn.append(newBtn);


            // appends everything to row
            newRow.append(newRowTimelabel);
            newRow.append(newRowTextarea);
            newRow.append(newRowSavebtn);


            // appends row to holder div
            $("#holder").append(newRow);


            store(newBtn, newTextarea);


        }









    </script>
</body>



</html>